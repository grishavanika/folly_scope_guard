Stolen from Folly: https://github.com/facebook/folly/blob/master/folly/ScopeGuard.h.

Standalone version, no dependencies.

TODO: would be nice to do it complete, with CMake and tests running.

